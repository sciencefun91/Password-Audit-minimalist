<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <title>Tools - Password Security</title>
    <style>
        .security-tool {
            background: rgba(26, 28, 32, 0.7);
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
            border-left: 4px solid #4fc3f7;
        }
        
        .tool-title {
            color: #4fc3f7;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .email-check {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        
        .email-input {
            flex: 1;
            padding: 12px;
            background: #101214;
            border: 1px solid #2a2c30;
            border-radius: 5px;
            color: white;
        }
        
        .check-btn {
            background: #4fc3f7;
            color: white;
            border: none;
            padding: 0 25px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .check-btn:hover {
            background: #29b6f6;
        }
        
        .result-box {
            background: #1a1c20;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            min-height: 100px;
        }
        
        .safe {
            color: #81c784;
            font-weight: bold;
        }
        
        .warning {
            color: #ffb74d;
            font-weight: bold;
        }
        
        .danger {
            color: #e57373;
            font-weight: bold;
        }
        
        .breach-list {
            margin-top: 15px;
            padding-left: 20px;
        }
        
        .breach-item {
            margin: 8px 0;
            padding: 10px;
            background: #2a2c30;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <nav class="simple-nav">
        <a href="index.html">Home</a>
        <a href="tools.html">Tools</a>
        <a href="contact.html">Contact</a>
    </nav>

    <div class="grid-2">
        <div class="section-1">
            <img src="my-avatar_2.png" alt="Simone Pederzolli" class="avatar">
            <h2>Security Tools</h2>
            <p>Interactive security utilities</p>
        </div>
        
        <div class="section-2">
            <h2>Security Tools</h2>
            
            <!-- Data Breach Check Tool -->
            <div class="security-tool">
                <h3 class="tool-title"><i class="fas fa-shield-alt"></i> 1. Data Breach Check</h3>
                
                <p>This section queries the public API of Have I Been Pwned (HIBP), considered the reference standard for identifying accounts involved in data breaches.</p>
                
                <p><strong>HIBP aggregates:</strong></p>
                <ul>
                    <li>Over 12 billion compromised records</li>
                    <li>More than 700 confirmed breaches</li>
                    <li>Constant updates following disclosure of new security incidents</li>
                </ul>
                
                <p>The integration respects the API's privacy guidelines, allowing users to verify if their email is associated with known breaches without exposing additional sensitive information. This awareness represents the first step toward responsible credential management.</p>
                
                <!-- Email Check Input -->
                <div class="email-check">
                    <input type="email" id="emailInput" class="email-input" placeholder="Enter your email address" value="test@example.com">
                    <button onclick="checkEmailBreach()" class="check-btn">
                        <i class="fas fa-search"></i> Check
                    </button>
                </div>
                
                <!-- Results Container -->
                <div class="result-box" id="breachResult">
                    <p>Enter your email above to check for data breaches...</p>
                </div>
            </div>
            
            <!-- Placeholder for other tools -->
            <div class="security-tool">
                <h3 class="tool-title"><i class="fas fa-key"></i> 2. Secure Password Generator</h3>
                <p>Coming soon - Customizable password generator with options for length, complexity, and memorability.</p>
            </div>
        </div>
    </div>
    
    <script>
    async function checkEmailBreach() {
        const emailInput = document.getElementById('emailInput');
        const resultDiv = document.getElementById('breachResult');
        const email = emailInput.value.trim();
        
        if (!email || !email.includes('@')) {
            resultDiv.innerHTML = '<p class="warning">Please enter a valid email address</p>';
            return;
        }
        
        // Show loading state
        resultDiv.innerHTML = '<p><i class="fas fa-spinner fa-spin"></i> Checking for data breaches...</p>';
        
        try {
            // IMPORTANT: For demonstration purposes only
            // Real API requires paid subscription and server-side implementation
            
            // Simulate API response
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            // Demo responses based on test emails
            if (email.includes('test@hibp-integration-tests.com')) {
                // Test account that exists in breaches
                const breaches = [
                    {Name: "Adobe", Title: "Adobe", BreachDate: "2013-10-04", PwnCount: "152,445,165"},
                    {Name: "LinkedIn", Title: "LinkedIn", BreachDate: "2012-05-05", PwnCount: "164,611,595"}
                ];
                
                let breachesHTML = '<div class="danger"><p><i class="fas fa-exclamation-triangle"></i> This email was found in ' + breaches.length + ' data breaches:</p></div>';
                breachesHTML += '<div class="breach-list">';
                
                breaches.forEach(breach => {
                    breachesHTML += `
                    <div class="breach-item">
                        <strong>${breach.Title}</strong><br>
                        Breach date: ${breach.BreachDate}<br>
                        Accounts affected: ${breach.PwnCount}
                    </div>`;
                });
                
                breachesHTML += '</div>';
                breachesHTML += '<p class="warning mt-3"><i class="fas fa-lightbulb"></i> <strong>Recommendation:</strong> Change your password immediately and enable two-factor authentication where available.</p>';
                
                resultDiv.innerHTML = breachesHTML;
                
            } else if (email.includes('safe@example.com')) {
                // Safe email (no breaches)
                resultDiv.innerHTML = `
                <div class="safe">
                    <p><i class="fas fa-check-circle"></i> Good news! No data breaches found for this email.</p>
                    <p>This email address was not found in any known data breaches.</p>
                </div>
                <p class="mt-3"><i class="fas fa-lightbulb"></i> <strong>Tip:</strong> Continue using strong, unique passwords for each service.</p>`;
                
            } else {
                // Generic response for other emails
                resultDiv.innerHTML = `
                <div class="safe">
                    <p><i class="fas fa-check-circle"></i> No data breaches found for this email.</p>
                </div>
                <p class="mt-3"><strong>Note:</strong> This is a demonstration. For real checks, visit <a href="https://haveibeenpwned.com" target="_blank">haveibeenpwned.com</a>.</p>
                <p>The Have I Been Pwned API requires a paid subscription for programmatic access.</p>`;
            }
            
        } catch (error) {
            console.error('Error:', error);
            resultDiv.innerHTML = `
            <p class="warning">
                <i class="fas fa-exclamation-circle"></i> 
                Unable to check email at this time.
            </p>
            <p>Error: ${error.message}</p>
            <p>For real-time checks, visit: <a href="https://haveibeenpwned.com" target="_blank">Have I Been Pwned</a></p>`;
        }
    }
    
    // Allow Enter key to trigger check
    document.getElementById('emailInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') checkEmailBreach();
    });
    </script>
</body>
</html>
